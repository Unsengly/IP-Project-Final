{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\Full-stack-project\\\\web_react\\\\src\\\\page\\\\auth\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { LockOutlined, UserOutlined } from \"@ant-design/icons\";\nimport { Button, Checkbox, Form, Input } from \"antd\";\nimport styles from \"./LoginPage.module.css\";\nimport { request } from \"../../util/request\";\nimport { setAccessToken, setIsLogin, setRefreshToken, setRoleMenu, setUser } from \"../../util/service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  const [message, setMessage] = useState(\"\");\n  const onFinish = async values => {\n    var param = {\n      Username: values.username,\n      Password: values.password\n    };\n    const res = await request(\"users/login\", \"post\", param);\n    if (res.message) {\n      setMessage(res.message);\n      setUser(JSON.stringify(res.user)); // JSON.stringify JSON(Obect)=>JSON(Object String))\n      setRoleMenu(JSON.stringify(res.permison_menu));\n      setIsLogin(\"1\");\n      setAccessToken(res.access_token);\n      setRefreshToken(res.refresh_token);\n      window.location.href = \"admin\";\n    } else if (res.error) {\n      if (res.error.Username) {\n        setMessage(res.error.Username);\n      }\n      if (res.error.Password) {\n        setMessage(res.error.Password);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.loginContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        color: \"red\"\n      },\n      children: [\" Message: \", message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      name: \"normal_login\",\n      className: \"login-form\",\n      initialValues: {\n        remember: true\n      },\n      onFinish: onFinish,\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"username\",\n        rules: [{\n          required: true,\n          message: \"Please input your Username!\"\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {\n            className: \"site-form-item-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 26\n          }, this),\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"password\",\n        rules: [{\n          required: true,\n          message: \"Please input your Password!\"\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n            className: \"site-form-item-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 26\n          }, this),\n          type: \"password\",\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.txtForgot,\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"\",\n          children: \"Forgot password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          htmlType: \"submit\",\n          className: styles.btnLogin,\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginPage, \"EiOGSxO4GWQlH0sM782nQ9JwuAs=\");\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","LockOutlined","UserOutlined","Button","Checkbox","Form","Input","styles","request","setAccessToken","setIsLogin","setRefreshToken","setRoleMenu","setUser","jsxDEV","_jsxDEV","LoginPage","_s","message","setMessage","onFinish","values","param","Username","username","Password","password","res","JSON","stringify","user","permison_menu","access_token","refresh_token","window","location","href","error","className","loginContainer","children","style","color","fileName","_jsxFileName","lineNumber","columnNumber","name","initialValues","remember","Item","rules","required","prefix","placeholder","type","txtForgot","htmlType","btnLogin","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Desktop/Full-stack-project/web_react/src/page/auth/LoginPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { LockOutlined, UserOutlined } from \"@ant-design/icons\";\r\nimport { Button, Checkbox, Form, Input } from \"antd\";\r\nimport styles from \"./LoginPage.module.css\";\r\nimport { request } from \"../../util/request\";\r\nimport { setAccessToken, setIsLogin, setRefreshToken, setRoleMenu, setUser } from \"../../util/service\";\r\nconst LoginPage = () => {\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const onFinish = async (values) => {\r\n    var param = {\r\n      Username: values.username,\r\n      Password: values.password,\r\n    };\r\n    const res = await request(\"users/login\", \"post\", param);\r\n    if (res.message) {\r\n      setMessage(res.message);\r\n      setUser(JSON.stringify(res.user)); // JSON.stringify JSON(Obect)=>JSON(Object String))\r\n      setRoleMenu(JSON.stringify(res.permison_menu));\r\n      setIsLogin(\"1\");\r\n      setAccessToken(res.access_token);\r\n      setRefreshToken(res.refresh_token);\r\n      window.location.href = \"admin\";\r\n    } else if (res.error) {\r\n      if (res.error.Username) {\r\n        setMessage(res.error.Username);\r\n      }\r\n      if (res.error.Password) {\r\n        setMessage(res.error.Password);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div className={styles.loginContainer}>\r\n      <h3 style={{ color: \"red\" }}> Message: {message}</h3>\r\n      <h1>Login</h1>\r\n      <Form\r\n        name=\"normal_login\"\r\n        className=\"login-form\"\r\n        initialValues={{\r\n          remember: true,\r\n        }}\r\n        onFinish={onFinish}\r\n      >\r\n        <Form.Item\r\n          name=\"username\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input your Username!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Username\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Please input your Password!\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input prefix={<LockOutlined className=\"site-form-item-icon\" />} type=\"password\" placeholder=\"Password\" />\r\n        </Form.Item>\r\n        <div className={styles.txtForgot}>\r\n          <a href=\"\">Forgot password</a>\r\n        </div>\r\n\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" className={styles.btnLogin}>\r\n            Log in\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\nexport default LoginPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}